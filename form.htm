<!DOCTYPE html>
<html>
  <head>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
  </head>
  <body>
    <h1>Functions & validation</h1>

    <form id="form1" action="#" onsubmit="return validateForm(this);">
      first name: <input type="text" name="firstname" /><br />
      last name: <input type="text" name="lastname" /><br />
      password: <input type="text" name="password" /><br />

      <button>Check</button>
    </form>

    <hr />
    <div id="message"></div>

    <script>
      // add validatePassword function here
      function validatePassword(str) {
        let value = String(str);
        if (value.length < 8 || value === value.toLowerCase()) {
          return true; // invalid password
        }
        return false; // valid password
      }

      const validateForm = (myForm) => {
        // get text of fields
        var firstname = myForm.firstname.value;
        var lastname = myForm.lastname.value;
        var password = myForm.password.value;

        $("#message").html("");
        /* Form validation*/

        if (!firstname) {
          $("#message").html("Please enter a first name");
        }

        if (!lastname) {
          $("#message").html("Please enter a last name");
        }

        if (validatePassword(password) === true) {
          $("#message").html("Password incorrect");
        }
        if (firstname && lastname && validatePassword(password) === true) {
          $("#message").html("Success");
        }

        return false; // prevent page reload
      };
    </script>
  </body>
</html>
