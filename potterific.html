<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Potterific</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  </head>
  <style>
    .over {
      background-color: orange;
    }
    .selected {
      background-color: green;
    }
  </style>

  <body>
    <div id="buttons"></div>
    <table border="1">
      <tr>
        <th>name</th>
        <th>role</th>
        <th>house</th>
        <th>gender</th>
        <th>alignment</th>
      </tr>
    </table>
    <button id="reset">reset</button>
  </body>

  <script>
    // list of characters
    var characters = [
      {
        name: "Albus Dumbledore",
        role: "staff",
        house: "Gryffindor",
        gender: "m",
        alignment: "good",
      },
      {
        name: "Nymphadora Tonks",
        role: "",
        house: "Hufflepuff",
        gender: "f",
        alignment: "good",
      },
      {
        name: "Ron Weasley",
        role: "student",
        house: "Gryffindor",
        gender: "m",
        alignment: "good",
      },
      {
        name: "Ginny Weasley",
        role: "student",
        house: "Gryffindor",
        gender: "f",
        alignment: "good",
      },
      {
        name: "Hermione Granger",
        role: "student",
        house: "Gryffindor",
        gender: "f",
        alignment: "good",
      },
      {
        name: "Mad-eye Moody",
        role: "staff",
        house: "",
        gender: "m",
        alignment: "good",
      },
      {
        name: "Prof McGonagall",
        role: "staff",
        house: "Gryffindor",
        gender: "f",
        alignment: "good",
      },
      {
        name: "Harry Potter",
        role: "student",
        house: "Gryffindor",
        gender: "m",
        alignment: "good",
      },
      {
        name: "Draco Malfoy",
        role: "student",
        house: "Slytherin",
        gender: "m",
        alignment: "evil",
      },
      {
        name: "Hagrid",
        role: "staff",
        house: "Gryffindor",
        gender: "m",
        alignment: "good",
      },
      {
        name: "Luna Lovegood",
        role: "student",
        house: "Ravenclaw",
        gender: "f",
        alignment: "good",
      },
      {
        name: "Voldemort",
        role: "",
        house: "Slytherin",
        gender: "m",
        alignment: "evil",
      },
      {
        name: "Bellatrix Lestrange",
        role: "",
        house: "Slytherin",
        gender: "f",
        alignment: "evil",
      },
      {
        name: "Severus Snape",
        role: "staff",
        house: "Slytherin",
        gender: "m",
        alignment: "?",
      },
    ];

    $(document).ready(function () {
      // add a button for each 'house' value
      var houses = {};
      for (const element of characters) {
        if (element.house !== "") {
          houses[element.house] = true;
        }
      }

      for (var house in houses) {
        if (houses.hasOwnProperty(house)) {
          var button = $("<button>").text(house).appendTo("#buttons");
          button.click(function () {
            // show only rows matching selected 'house'
            var selectedHouse = $(this).text();
            $("table tr").each(function () {
              if ($(this).find("td:eq(2)").text() === selectedHouse) {
                $(this).show();
              } else {
                $(this).hide();
              }
            });
          });
        }
      }

      // add table row for each character
      for (const element of characters) {
        var tr = $("<tr>");
        tr.append($("<td>").text(element.name));
        tr.append($("<td>").text(element.role));
        tr.append($("<td>").text(element.house));
        tr.append($("<td>").text(element.gender));
        tr.append($("<td>").text(element.alignment));
        $("table").append(tr);
      }
      // Reset table
      $("#reset").click(function () {
        $("table tr").each(function () {
          $(this).show();
        });
      });
    });
  </script>
</html>
